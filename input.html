<!DOCTYPE html>
<!-- saved from url=(0026)http://www.fangwei315.com/ -->
<html xmlns="http://www.w3.org/1999/xhtml" class=" js no-touch cssanimations csstransitions">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>专利备案</title>
	<link rel="icon" href="images/logo.ico">
<link rel="stylesheet" type="text/css" href="./file/base.css">
<link rel="stylesheet" type="text/css" href="./file/aos.css">
<link rel="stylesheet" type="text/css" href="./css/common.css">
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<body aos-easing="ease-out-back" aos-duration="1000" aos-delay="0">
    <div class="top">
	<div class="top_a">
		<div class="top_logo">
      <a href="index.html"><img src="./file/index3_03.png" data-bd-imgshare-binded="1" style="width: 48px;height: 48px;margin-top:5px "></a> &nbsp; &nbsp; &nbsp; &nbsp;
		</div>
		<div class="top_nav">
			<ul class=" list-paddingleft-2">
				<li>
					<p>
						<a href="index.html">首页</a> 
					</p>
				</li>
				<li>
					<p>
						<a href="input.html"><span></span>专利备案</a> 
					</p>
				</li>
				<li>
					<p>
						<a href="list.html"><span></span>专利列表</a> 
					</p>
				</li>
				<li>
					<p>
					     <a href="javascript:showtishi()">专利转让</a> 
					</p>
				</li>
				<li>
					<p>
						<a href="center.html">个人中心</a> 
					</p>
				</li>
				<li>
					<p>
						<a href="about.html">关于我们</a> 
					</p>
				</li>
				<li>
					<p>
						<a href="https://github.com/dengxuwan/patent/">github</a> 
					</p>
				</li>
			</ul>
		</div>
		<div class="top_right">
			<div class="top_right_right">
				<ul class=" list-paddingleft-2">
					<li>
						<p>
							
						</p>
					</li>
				</ul>
			</div>
			<div class="top_right_left">
				&nbsp;
				<div class="top_right_left_g">
				</div>
			</div>
		</div>
	</div>
</div><div class="ku_clid" style="width: 100%; height: 60px;"></div>
    <div id="Contact"> <div class="bannerh">    <div class="banner_a">       <div class="banner_a_top aos-init aos-animate" aos="fade-up"><img src="./file/index3_03.png" data-bd-imgshare-binded="1"><span>星云链专利备案中心</span></div>       <div class="banner_su aos-init aos-animate" aos="fade-up">    
    	       <input type="text" name="key" id="keyword" class="yanz" placeholder="请输入您要查询专利号或者专利名称">    
            <input class="cys" value="查询" onclick="toSearch()">              
    	   </div>    
    	</div>    
    	<div class="banner_bottom">       
    		<div class="banner_bottom_a">       
    			<div class="dh aos-init aos-animate" aos="fade-up">         
    				<ul>           
    					<li>              
    						          
    									</li>            
    									<li>              
    									 	         
    									 	 		 	</li>           
    									 	 		 <li>              
    									 	 		 	       
    									 	 		 	</li>            
    									 	 		 	
    									 	 		 	 			 	   </li>       
    									 	 		 	 			 	    </ul>     
    									 	 		 	 			 	      </div>   
    									 	 		 	 			 	        </div>
    									 	 		 	 			 	            </div> 
    									 	 		 	 			 	        </div> 
    									 	 		 	 			 	        <div class="banner"><canvas width="1920" height="875" style="width: 1536px; height: 700px;"></canvas></div> </div>
    
     <div class="toptips">提示：此页面操作需要安装星云钱包插件支持！插件安装请移步至 <a target="_blank" href="https://github.com/ChengOrangeJu/WebExtensionWallet">WebExtensionWallet</a></div>
   <div class="pros">
	   <div class="pros_a">
	    <div class="release-right-content" style="margin: 0 auto;">
			<h3 class="name-title">发布新专利</h3>
			<div id="app">
				<el-row :gutter="20">       	
					<el-form :model="ruleForm" :rules="rules2" ref="ruleForm">
					<el-col :span="18">
					  <el-form-item label="钱包地址" prop="curWallet" :label-width="labelWidth">
						  <el-input v-model="curWallet"  readonly="true"></el-input>
					   </el-form-item>
					</el-col>
					<el-col :span="18">
					  <el-form-item label="专利标题" prop="title" :label-width="labelWidth">
						  <el-input v-model="ruleForm.title" ></el-input>
					   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="专利号" prop="no" :label-width="labelWidth">
							  <el-input v-model="ruleForm.no" placeholder="申请号"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="公开号" prop="gongkaihao" :label-width="labelWidth">
							  <el-input v-model="ruleForm.gongkaihao" placeholder="公开号"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="申请日期" prop="appDate" :label-width="labelWidth">
							   <el-date-picker  v-model="appDate" type="date" placeholder="选择日期"></el-date-picke>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="优先权日期" prop="youxianTime" :label-width="labelWidth">
							   <el-date-picker v-model="youxianTime" type="date" placeholder="优先权日期"></el-date-picker>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="发明人" prop="inventName" :label-width="labelWidth">
							    <el-input v-model="ruleForm.inventName" placeholder="发明人"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="联系方式" prop="appPhone" :label-width="labelWidth">
							    <el-input v-model="ruleForm.appPhone" placeholder="联系方式"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="主分类号" prop="mainTypeNo" :label-width="labelWidth">
							    <el-input v-model="ruleForm.mainTypeNo" placeholder="主分类号"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="申请人地址" prop="appAddress" :label-width="labelWidth">
							    <el-input v-model="ruleForm.appAddress" placeholder="申请人地址"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="分类号" prop="typeNo" :label-width="labelWidth">
							    <el-input v-model="ruleForm.typeNo" placeholder="分类号"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="代理机构" prop="agency" :label-width="labelWidth">
							    <el-input v-model="ruleForm.agency" placeholder="专利代理机构"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="专利状态" prop="status" :label-width="labelWidth">
							   <el-select v-model="ruleForm.status" placeholder="请选择">
							    <el-option
							      v-for="item in options1"
							      :key="item.value"
							      :label="item.label"
							      :value="item.value">
							    </el-option>
							  </el-select>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="法律状态" prop="rawStatus" :label-width="labelWidth">
						  	
						      <el-select v-model="ruleForm.rawStatus" placeholder="请选择">
							    <el-option
							      v-for="item in options"
							      :key="item.value"
							      :label="item.label"
							      :value="item.value">
							    </el-option>
							  </el-select>
							
						   </el-form-item>
					</el-col>
					<el-col :span="12">
						  <el-form-item label="是否转让" prop="isTrans" :label-width="labelWidth">
							  <el-switch
							    v-model="ruleForm.isTrans"
							    active-color="#13ce66"
							    inactive-color="#606266"
							    active-value=true
							    inactive-value=false>
							  </el-switch>
						   </el-form-item>
					</el-col>
					<el-col :span="12">
							<div v-if="ruleForm.isTrans">
							  <el-form-item  label="转让价格" prop="price" :label-width="labelWidth">
								    <el-input v-model="ruleForm.price" placeholder="单位为Nas"></el-input>
							   </el-form-item>
							</div>
					</el-col>
					<el-col :span="24">
						  <el-form-item  label="专利图片" prop="pic" :label-width="labelWidth">
								    <el-input v-model="ruleForm.pic" placeholder="图片链接地址"></el-input>
							   </el-form-item>
					</el-col>
					<el-col :span="24">
						  <el-form-item label="摘要" prop="description" :label-width="labelWidth">
							    <el-input type="textarea" :autosize="{ minRows: 4, maxRows: 6}" v-model="ruleForm.description" placeholder="摘要"></el-input>
						   </el-form-item>
					</el-col>
						<el-col :span="24">
						  <el-form-item label="权利要求" prop="power" :label-width="labelWidth">
							    <el-input type="textarea" :autosize="{ minRows:8, maxRows:12}" v-model="ruleForm.power" placeholder="权利要求"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="24">
						  <el-form-item label="说明书" prop="shuoming" :label-width="labelWidth">
							    <el-input type="textarea" :autosize="{ minRows:8, maxRows:12}" v-model="ruleForm.shuoming" placeholder="说明书"></el-input>
						   </el-form-item>
					</el-col>
					<el-col :span="24">
						  <div style="text-align: center;">
						  	 <el-button type="primary" @click="sublim">提交</el-button>
						  </div>
						<el-dialog title="备案成功" :visible="dialogFormVisible" @open="openDialog()">
						  <div >
						  	<div>温馨提示: 您的专利已经备案成功，专利编号为<span id="patentNo" style="color:red">5414654111</span>,数据写入区块链中需要15秒左右.<br>所以请耐心等待，15秒后刷新查看，下图二维码为您的专利详情页面，可以将次二维码出示给第三方进行展示！
						  	注意：二维码估计15秒后才能生效！</div>
						 	<div id="showCode" style="margin-top:20px"></div>
						  </div>
						  <div slot="footer" class="dialog-footer">
						    <el-button @click="cancelDialog()">取 消</el-button>
						    <el-button type="primary" @click="cancelDialog()">确 定</el-button>
						  </div>
						</el-dialog>
						   
					</el-col>
					</el-form>
				</el-row>
				
		</div>
	   </div>
	</div>
    <div class="news_hbottom">
	<div class="news_nbottom_a">
		<p>
			星云链的未来，等你一起创造
		</p>
		<p>
			<a href="https://incentive.nebulas.io/cn/signup.html?invite=KvuuZ">成为开发者</a> 
		</p>
	</div>
</div>
<div class="foot">
	<div class="foot_a">
		<div class="foot_top">
			
			<div class="foot_top_center">
				Copyright © 2018.基于 NAS公链开发的专利备案平台
			</div>
			<div class="foot_top_center">
				联系方式:363669440@qq.com
			</div>
		</div>
	</div>
</div>


<div class="kdf">
	<div class="kdf_b">
		<p>
			<a href="https://incentive.nebulas.io/cn/signup.html?invite=KvuuZ" target="_blank"><img style="width: 20px;height: 20px" src="./file/index92_02.png" data-bd-imgshare-binded="1"> </a> 
		</p>
		<p style="font-size: 12px">
			开发者
		</p>
	</div>
	<div class="kdf_a">
		<p>
			<img src="./file/index93_06.png" data-bd-imgshare-binded="1"> 
		</p>
		<p>
			星云链
		</p>
		<div class="kdrsd">
			<div class="kdrsd_right">
			</div>
<img src="./file/index40_10.jpg" data-bd-imgshare-binded="1"> 
		</div>
	</div>
</div>
    <script src="./file/jquery-1.12.4.min.js"></script>


    <script type="text/javascript">
		function toSearch() {
		    var keyword = $("#keyword").val();
		    window.location.href = "list.html?keyword=" + keyword;
		}
	
        
    </script>
    <script type="text/javascript" src="./file/three.min.js"></script>
    <script type="text/javascript" src="./file/about.js"></script>
          <!-- <script type="text/javascript" src="./js/vue.js"></script> -->
      <!-- <script type="text/javascript" src="./js/element.js"></script> -->
      <!-- 先引入 Vue -->
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script src=js/template-web.js></script>
  <!-- 引入组件库 -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src=js/nebulas.js></script>
    <script src=js/nebPay.js></script>
    <script src=js/config.js></script>
    <script src=js/common.js></script>
    <script src=js/template-web.js></script>
    <script src=js/qrcode.js></script>
    
    <script>
	// import { Message } from 'element-ui';
		//验证特殊字符
		function tstr(str){
			 var reg = new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]");
			 return reg.test(str)
		}

      var vue = new Vue({
      el: '#app',
      created:function(){
		
      },
      mounted:function(){
		this.getWallectInfo();
      },
      updated:function(){
		this.getWallectInfo();
      },
      data() {
      	 var validatePass = function(rule, value, callback) {
		     		if(rule.required){
		     			if(value== ''){
		     				return callback(new Error('不能为空'));
		     			} else {
		     				if(tstr(value)){
		     					return callback(new Error('请输入合法字符'));
		     				} else {
		     					callback()
		     				}
		     			}
		     		} else {
		     			if(tstr(value)){
		     					return callback(new Error('请输入合法字符'));
		     			} else {
		     				callback()
		     			}
		     		}
		      };
        return { 
        	patentId:"",
        	dialogFormVisible:false,
        	options: [{
	          value: '授权',
	          label: '授权'
	        }, {
	          value: '失效',
	          label: '失效'
	        }, {
	          value: '冻结',
	          label: '冻结'
	        }],
	        options1: [{
	          value: '实用新型专利',
	          label: '实用新型专利'
	        }, {
	          value: '环保新型专利',
	          label: '环保新型专利'
	        }, {
	          value: '科技新型专利',
	          label: '科技新型专利'
	        }],
        	curWallet: "",
        	labelWidth:'100px',//表单左边label文字宽度
        	rules2: {
			          no: [
			            {  trigger: 'change',required: true}
			          ],
			          title: [
			            { trigger: 'change',required: true, message : "请填写专利标题"}
			          ],
			          appDate: [
			            { trigger: 'change',required: true, message : "请填写申请日期"}
			          ],
			          appName: [
			            { trigger: 'change',required: true, message : "请填写申请人"}
			          ],
			           inventName: [
			            { trigger: 'change',required: true, message : "请填写发明人"}
			          ],
			           appAddress: [
			            { trigger: 'change',required: true, message : "请填写联系地址"}
			          ],
			           appPhone: [
			            {  trigger: 'change',required: true, message : "请填写联系方式"}

			          ],
			          mainTypeNo: [
			            {  trigger: 'change',required: true, message : "请填写主分类号"}
			          ],
			          typeNo: [
			            {  trigger: 'change',required: true, message : "请填写分类号"}
			          ],
			          agency: [
			            {  trigger: 'change',required: true, message : "请填写代理机构"}
			          ],
			          status: [
			            { trigger: 'change',required: true, message : "请填写专利状态"}
			          ],
			          rawStatus: [
			            { trigger: 'change',required: true, message : "请填写法律状态"}
			          ],
			          description: [
			            { trigger: 'change',required: true, message : "请填写摘要"}
			          ],
			           shuoming: [
			            { trigger: 'change',required: true}
			          ]
			          
        	},
        	appDate:'',
        	youxianTime:'',
        	ruleForm:{
        		author:'',
        		id:'',//ID
        		no:'',// 申请号
        		gongkaihao:'',// 公开号
        		appDate:'',// 申请日期
        		youxianTime:'',// 优先权日期
        		inventName:'',//发明人
        		mainTypeNo:'',//主分类号
        		appAddress:'',//申请人地址
        		typeNo:'',//分类号
        		agency:'',//专利代理机构
        		status:'',//当前专利状态
        		price:'',//价格
        		rawStatus:'',//法律状态
        		description:'',//摘要
        		power:'',// 权利再要
        		shuoming:'',// 说明书再要
        		isTrans:true, // 是否转让
        		appPhone:'', //发明人联系方式
        		isBuy:false,
        		from:'',
        		pic:''
        	}
        }
      },
      methods:{
      	sublim:function(){
      		this.ruleForm.author = this.curWallet;
      		//转换时间格式
      		this.ruleForm.appDate = getDateStr(new Date(this.appDate));
      		this.ruleForm.youxianTime = getDateStr(new Date(this.youxianTime));
      		
      		//这里进行提交操作
	      	this.$refs['ruleForm'].validate((valid) => {
	          if (valid) {
	            this.addPatent();
	          } else {
	            return false;
	          }
	        });

      	},
      			//获取钱包地址
		getWallectInfo:function() {
		    window.postMessage({
		        "target": "contentscript",
		        "data": {},
		        "method": "getAccount",
		    }, "*");
		    window.addEventListener('message', function(e) {
		        if (e.data && e.data.data) {
		            if (e.data.data.account) {
		                vue.curWallet = e.data.data.account;
		            }
		        }
		    });
		},
		addPatent:function(){
			vue.ruleForm.id = new Date().getTime();
			this.patentId = vue.ruleForm.id;
			var args = [JSON.stringify(vue.ruleForm)];
			defaultOptions.listener = function(data) {

				vue.dialogFormVisible = true;
				// $(".dialog").hide(100)
				
			};
			
			nebPay.call(config.contractAddr, "0", config.addPatent, JSON.stringify(args), defaultOptions);
			console.log("交易号为" + serialNumber, "发表专利交易hash")
		},
		openDialog : function(){
			var urlStr = window.location.href;

			setTimeout(() => {
		        var urls = urlStr.substring(0,urlStr.lastIndexOf("/"));
				var url = urls + "detail.html?patentId=" + vue.patentId;
				$("#patentNo").html(vue.patentId);
				$("#showCode").html('');
		        new QRCode(document.getElementById("showCode"), url);
		    }, 1000);
			
		},
		cancelDialog:function(){
			dialogFormVisible = false
			window.location.href="list.html";
		}
      },
      
    })
  </script>


